# 🌐 HTTP와 웹

## 🔗 URI, 웹 브라우저 요청 흐름, 클라이언트 서버 구조

### URI (Uniform Resource Identifier)
- URI는 인터넷 상의 자원을 식별하기 위한 통일된 방식입니다.
- 종류:
  - URL (Uniform Resource Locator): 자원의 위치 지정
  - URN (Uniform Resource Name): 자원의 이름 지정

#### URL 구조
```
scheme://[userinfo@]host[:port][/path][?query][#fragment]
```

- **scheme**: 프로토콜 (http, https, ftp 등)
- **userinfo**: 사용자 정보 (거의 사용되지 않음)
- **host**: 호스트명 (도메인명 또는 IP 주소)
- **port**: 포트 번호 (생략 시 기본값 사용: http=80, https=443)
- **path**: 리소스 경로
- **query**: 쿼리 파라미터 (key=value 형태)
- **fragment**: 문서 내 특정 부분 지정

### 웹 브라우저 요청 흐름
웹 브라우저에서 URL을 입력하고 웹 페이지를 보기까지의 과정:

1. 사용자가 브라우저에 URL 입력 (예: https://www.example.com)
2. 브라우저가 DNS를 통해 IP 주소 조회
3. 브라우저가 해당 서버와 TCP/IP 연결 수립
4. 브라우저가 HTTP 요청 메시지 생성 및 전송
5. 서버가 HTTP 요청 메시지 수신 및 처리
6. 서버가 HTTP 응답 메시지 생성 및 전송
7. 브라우저가 HTTP 응답 메시지 수신
8. 브라우저가 HTML, CSS, JavaScript 등을 파싱하고 렌더링
9. 웹 페이지 표시

### 클라이언트 서버 구조
- **클라이언트**: 서비스를 요청하는 쪽 (웹 브라우저, 앱 등)
- **서버**: 서비스를 제공하는 쪽 (웹 서버, API 서버 등)

특징:
- 클라이언트와 서버는 분리되어 있음
- 클라이언트는 요청(Request)을 보내고, 서버는 응답(Response)을 반환
- 양쪽이 독립적으로 발전 가능 (서로의 내부 구현을 모름)
- 클라이언트와 서버는 서로 다른 기술 스택을 사용할 수 있음

## 🔄 Stateful, Stateless와 비연결성

### Stateful (상태 유지)
- 서버가 클라이언트의 상태를 기억하는 방식입니다.
- 예: 대화 상담, 은행 ATM 등

특징:
- 항상 같은 서버와 연결을 유지해야 함
- 서버 장애 시 상태 정보 유실 가능
- 확장성에 제한이 있음

### Stateless (무상태)
- 서버가 클라이언트의 이전 상태를 기억하지 않는 방식입니다.
- HTTP는 기본적으로 무상태 프로토콜입니다.

특징:
- 서버 확장성이 높음 (스케일 아웃에 유리)
- 서버 장애 시 다른 서버로 쉽게 대체 가능
- 클라이언트가 추가 데이터를 요청마다 전송해야 함 (쿠키, 세션 등)

### 비연결성 (Connectionless)
- HTTP는 기본적으로 비연결성 프로토콜입니다.
- 서버는 요청에 응답한 후 연결을 유지하지 않습니다.

특징:
- 서버 자원을 효율적으로 사용 가능
- 매 요청마다 연결 수립 비용 발생
- 웹 브라우저로 사이트를 요청하면 HTML, CSS, JS, 이미지 등 수많은 자원이 각각 요청됨

해결책:
- HTTP 지속 연결 (Persistent Connections)
- HTTP/2, HTTP/3의 다중 요청/응답 처리

## 🛠️ HTTP 메서드

HTTP 메서드는 클라이언트가 서버에게 요청의 목적과 종류를 알려주는 방법입니다.

### 주요 HTTP 메서드

#### GET
- 리소스 조회
- 서버에 전달하고 싶은 데이터는 쿼리 파라미터를 통해 전달
- 메시지 바디를 사용할 수 있지만, 지원하지 않는 곳이 많아 권장하지 않음

#### POST
- 요청 데이터 처리 (주로 등록에 사용)
- 메시지 바디를 통해 서버로 요청 데이터 전달
- 서버는 요청 데이터를 처리하고 적절한 응답 반환

#### PUT
- 리소스를 대체 (덮어쓰기)
- 존재하지 않으면 생성 (POST와 차이점)
- 클라이언트가 리소스의 위치를 알고 있어야 함 (URI 지정)

#### PATCH
- 리소스 부분 변경
- PUT은 전체 교체, PATCH는 일부 수정

#### DELETE
- 리소스 삭제

### HTTP 메서드의 속성

#### 안전 (Safe Methods)
- 호출해도 리소스를 변경하지 않음
- GET, HEAD 등

#### 멱등성 (Idempotent Methods)
- 한 번 호출하든 여러 번 호출하든 결과가 같음
- GET, PUT, DELETE는 멱등, POST는 멱등하지 않음

#### 캐시 가능 (Cacheable Methods)
- 응답 결과를 캐시해서 사용해도 되는가?
- GET, HEAD, POST, PATCH 캐시 가능 (실제로는 GET, HEAD 주로 사용) 