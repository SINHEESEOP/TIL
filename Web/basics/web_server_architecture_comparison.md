# 🌐 웹 서버 아키텍처 비교: 자바, 파이썬, Node.js

모든 웹 애플리케이션은 **"클라이언트가 요청(HTTP 등)을 보내면, 서버가 이를 받아 애플리케이션 로직을 거쳐 결과를 응답"**하는 구조입니다. 이 단순한 흐름을 언어·프레임워크마다 조금씩 다른 방식으로 구현할 뿐, **근본적인 개념**은 같습니다.

## 1. "서버"와 "애플리케이션 로직"의 분리 🔄

### 서버의 역할 🖥️
- 네트워크(TCP/IP) 소켓을 열어, HTTP 요청을 받음
- 스레드(또는 비동기 이벤트 루프)로 요청을 처리
- 받은 데이터를 개발자가 작성한 로직에 전달
- 처리 결과를 HTTP 응답 형태로 클라이언트에게 반환

### 애플리케이션 로직의 역할 📝
- 실제 **업무 처리** (DB 조회, 계산, 파일 저장 등)
- "입력(요청)" → "처리" → "출력(응답)" 과정을 구현하는 코드

**→** 언어와 프레임워크마다 **이 둘을 어떻게 연결**할지를 정의하는 "표준" 또는 "관례"가 있고, 그것을 구현한 "서버"나 "컨테이너" 등이 존재합니다.

## 2. 자바 세계: "서블릿(Servlet) + 서블릿 컨테이너" ☕

### 서블릿(Servlet)
- "HTTP 요청을 자바 코드로 처리하는 규약"
- 개발자는 이 규약대로 메서드(`doGet()`, `doPost()`)를 정의
- 요청이 들어왔을 때 서블릿 컨테이너가 이 메서드를 호출

### 서블릿 컨테이너(Servlet Container)
- 대표적인 예: **톰캣(Tomcat)**
- 네트워크 소켓 열기, 서블릿(개발자가 만든 로직) 호출
- 스레드 관리, 응답 작성 등을 담당

즉, 톰캣은 "서블릿 컨테이너"로서 자바 웹 애플리케이션(서블릿)을 실행할 수 있는 **서버 엔진**입니다.

## 3. 파이썬: "WSGI/ASGI + WSGI 서버(또는 ASGI 서버)" 🐍

### WSGI(Web Server Gateway Interface)
- 파이썬 웹 표준 인터페이스
- Flask나 Django 앱이 WSGI 규약에 맞춰 작성됨
- **Gunicorn**, **uWSGI**, **Waitress** 등이 이 WSGI 스펙을 구현한 **서버**
- 이 서버가 "HTTP 요청 받기 + Flask/Django 호출 + 응답" 순서를 책임짐

### ASGI(Asynchronous Server Gateway Interface)
- 최신 비동기용 표준
- **FastAPI**, **Starlette** 등 비동기 프레임워크가 따름
- **Uvicorn**, **Hypercorn** 등이 ASGI 서버

즉, 파이썬에서도 "내가 만든 앱(Flask, Django, FastAPI) 코드"와 "네트워크 요청을 처리하는 서버"가 따로 존재하며, 그 사이에 **WSGI/ASGI**라는 표준 규약이 있는 것입니다.

## 4. Node.js: "Node http 모듈(or Express/Fastify)" 📦

### Node.js의 http 모듈
- Node.js는 자체적으로 **http 모듈**을 제공
- `require('http')`로 불러오면 로우 레벨의 HTTP 서버를 만들 수 있음

### 웹 프레임워크
- **Express, Fastify** 등은 이 http 모듈을 쉽게 사용하도록 만든 **프레임워크**
- 앱(개발 코드)에서 `app.get('/', ...)` 같은 라우팅을 정의
- 내부적으로 Node http 서버가 요청을 받고 콜백을 실행

즉, Node.js 진영도 "서버(= http 모듈) + 애플리케이션 코드(= Express 라우트, NestJS 컨트롤러)" 식으로 나뉘어 있고, 이를 **프레임워크**가 편리하게 감싸고 있습니다.

## 5. 공통되는 근본 개념 🔑

웹 애플리케이션의 두 가지 핵심 계층:

1. **네트워크 계층**: 
   - 소켓 열고, HTTP 요청을 수신하고, 응답을 돌려주는 것

2. **애플리케이션 계층**: 
   - 개발자가 작성한 비즈니스 로직 실행

이 두 계층을 **어떻게 연결**할지에 대한 "**규약**(Interface)"이 있고, 그 규약을 제공·구현하는 "**서버/컨테이너**"가 있습니다.

| **언어** | **인터페이스/규약** | **서버/컨테이너** |
|---------|-------------------|-----------------|
| 자바 | 서블릿 인터페이스 | 톰캣(서블릿 컨테이너) |
| 파이썬 | WSGI/ASGI 스펙 | Gunicorn/Uvicorn |
| Node.js | http 모듈 표준 | Express/Fastify |

**→ 결국 "자바의 서블릿 컨테이너, 파이썬의 WSGI 서버, Node.js의 http 모듈" 모두, 'HTTP를 받아서 개발자 로직을 호출'하는 동일 목적**을 달성하려고 다른 구현을 제공하는 것이라고 볼 수 있습니다.

## 6. 결론 ✨

### 근본 개념
- 웹 서버(네트워크)와 우리 코드(비즈니스 로직) 사이를 연결해주는 **중간 인터페이스** + 그 **구현체**가 항상 있다.

### 각 언어별 구현
- **자바**: 서블릿 스펙 + 톰캣
- **파이썬**: WSGI/ASGI + Gunicorn/Uvicorn
- **Node.js**: http 모듈 + Express/Fastify

### 공통 목표
모두 같은 목표를 가지고 있습니다: 클라이언트의 HTTP 요청을 받아서 **사용자(개발자)가 쓴 로직**을 실행하고, 결과를 클라이언트에게 **HTTP 응답**으로 전송하는 것.

각 언어와 프레임워크는 서로 다른 방식으로 이를 구현하고, 이름도 다를 뿐, **근본적으로 비슷한 구조**를 갖습니다.